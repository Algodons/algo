# Vercel Deployment Checklist

Use this checklist to ensure a smooth deployment to Vercel.

---

## ðŸ”§ Pre-Deployment (Before Starting)

### Prerequisites
- [ ] Node.js 18+ installed locally
- [ ] npm or yarn installed
- [ ] Git repository connected to GitHub/GitLab
- [ ] Vercel account created (free at vercel.com)
- [ ] Backend service selected (Railway/Render/Fly.io)

### Documentation Review
- [ ] Read VERCEL_QUICK_START.md (10-minute guide)
- [ ] Scan VERCEL_DEPLOYMENT.md (detailed guide)
- [ ] Bookmark VERCEL_TROUBLESHOOTING.md (for issues)

---

## ðŸ—ï¸ Backend Setup (30 minutes)

### Deploy Backend
- [ ] Choose backend platform (Railway recommended)
- [ ] Create account on chosen platform
- [ ] Deploy backend service
- [ ] Note backend URL (e.g., https://algo-backend.railway.app)
- [ ] Backend is running and accessible
- [ ] Health endpoint responds: `curl https://backend-url/api/health`

### Configure Backend Environment
- [ ] Set `NODE_ENV=production`
- [ ] Set `FRONTEND_URL` (will update after Vercel deployment)
- [ ] Configure database URLs (if using databases)
- [ ] Set up CORS to allow Vercel domain
- [ ] Configure any API keys needed
- [ ] Test backend endpoints work

---

## ðŸ” Secrets Generation (5 minutes)

### Generate Required Secrets
```bash
# Run these commands and save the output
openssl rand -base64 32  # For NEXTAUTH_SECRET
openssl rand -base64 32  # For JWT_SECRET
```

- [ ] NEXTAUTH_SECRET generated and saved
- [ ] JWT_SECRET generated and saved
- [ ] Secrets stored securely (password manager/notes)

---

## â˜ï¸ Vercel Deployment (15 minutes)

### Import Project to Vercel
- [ ] Go to vercel.com/new
- [ ] Click "Import Git Repository"
- [ ] Select your repository (Algodons/algo)
- [ ] Click "Import"

### Configure Build Settings
- [ ] Framework Preset: Next.js (auto-detected)
- [ ] Root Directory: Set to `frontend` âš ï¸ IMPORTANT
- [ ] Build Command: `npm run build` (default)
- [ ] Output Directory: `.next` (default)
- [ ] Install Command: `npm install` (default)
- [ ] Node Version: 18.x or higher

### Add Environment Variables
Navigate to: Settings â†’ Environment Variables

**Required Variables (8):**
- [ ] `NEXTAUTH_URL` = `https://your-app.vercel.app` (temporary, will update)
- [ ] `NEXTAUTH_SECRET` = [your generated secret]
- [ ] `JWT_SECRET` = [your generated secret]
- [ ] `API_URL` = [your backend URL]
- [ ] `WEBSOCKET_URL` = [your backend WSS URL]
- [ ] `FRONTEND_URL` = `https://your-app.vercel.app` (temporary, will update)
- [ ] `NEXT_PUBLIC_API_URL` = [your backend URL]
- [ ] `NEXT_PUBLIC_WEBSOCKET_URL` = [your backend WSS URL]

**For each variable:**
- [ ] Environment: Select Production, Preview, Development
- [ ] Click "Save" after each

### Optional Variables (as needed)
- [ ] Database URLs (POSTGRES_HOST, REDIS_HOST, MONGODB_URI)
- [ ] Payment gateway keys (STRIPE_SECRET_KEY, etc.)
- [ ] Email service keys (SENDGRID_API_KEY, SMTP_*, etc.)
- [ ] Storage keys (S3_*, BLOB_READ_WRITE_TOKEN)
- [ ] Feature flags (ENABLE_COLLABORATION, etc.)

See `.env.vercel.example` for complete list.

---

## ðŸš€ First Deployment (5 minutes)

### Deploy
- [ ] Click "Deploy" button
- [ ] Wait for build to complete (2-3 minutes)
- [ ] Check build logs for errors
- [ ] Build status shows: âœ… Ready

### Get Your Vercel URL
- [ ] Note your Vercel URL (e.g., https://algo-xyz.vercel.app)
- [ ] Copy URL to clipboard

---

## ðŸ”„ Update Configurations (10 minutes)

### Update Vercel Environment Variables
Now that you have the actual Vercel URL:
- [ ] Update `NEXTAUTH_URL` with actual Vercel URL
- [ ] Update `FRONTEND_URL` with actual Vercel URL
- [ ] Click "Redeploy" to apply changes

### Update Backend Configuration
- [ ] Set `FRONTEND_URL` environment variable on backend
- [ ] Update CORS configuration with Vercel URL
- [ ] Restart backend service
- [ ] Verify backend allows your Vercel domain

---

## âœ… Verification (10 minutes)

### Test Homepage
- [ ] Visit your Vercel URL
- [ ] Page loads without errors
- [ ] No blank screen
- [ ] UI elements render correctly

### Check Browser Console
Open DevTools (F12):
- [ ] No red errors in Console
- [ ] No 404s in Network tab
- [ ] No CORS errors

### Test API Connection
Run in browser console:
```javascript
fetch(process.env.NEXT_PUBLIC_API_URL + '/api/health')
  .then(r => r.json())
  .then(console.log)
```
- [ ] API responds successfully
- [ ] Returns: `{ status: "ok" }`

### Test WebSocket (if applicable)
- [ ] WebSocket connects without errors
- [ ] Real-time features work
- [ ] No connection timeout errors

### Test Authentication (if implemented)
- [ ] Login page loads
- [ ] Can create account / login
- [ ] Session persists
- [ ] Protected routes work

### Test Core Features
- [ ] Navigation works
- [ ] Forms submit correctly
- [ ] Data loads from API
- [ ] Images load properly
- [ ] No broken links

---

## ðŸŽ¯ Post-Deployment (Optional)

### Custom Domain (if applicable)
- [ ] Go to Settings â†’ Domains
- [ ] Add your custom domain
- [ ] Configure DNS records
- [ ] Wait for DNS propagation (5-60 minutes)
- [ ] Update `NEXTAUTH_URL` and `FRONTEND_URL` with custom domain
- [ ] Update backend CORS with custom domain
- [ ] Redeploy both frontend and backend

### Monitoring Setup
- [ ] Enable Vercel Analytics (free)
- [ ] Set up error tracking (Sentry, etc.)
- [ ] Configure uptime monitoring
- [ ] Set up alerts for errors

### Team Access
- [ ] Invite team members to Vercel project
- [ ] Set appropriate permissions
- [ ] Share deployment documentation

### Documentation
- [ ] Document your Vercel URL
- [ ] Document backend URL
- [ ] Save all environment variables securely
- [ ] Update team wiki/docs if applicable

---

## ðŸ”’ Security Checklist

- [ ] Secrets are not committed to Git
- [ ] Environment variables use secure values
- [ ] HTTPS is enabled (automatic on Vercel)
- [ ] CORS is properly configured
- [ ] Security headers are set (automatic in our config)
- [ ] API keys are kept secret
- [ ] Database has strong passwords
- [ ] No sensitive data in logs

---

## ðŸ“Š Performance Checklist

- [ ] Build time is reasonable (< 5 minutes)
- [ ] Page load time is fast (< 3 seconds)
- [ ] First Load JS is optimized (< 200 KB)
- [ ] Images are optimized
- [ ] No unnecessary large dependencies

---

## ðŸ› Troubleshooting

If you encounter issues:

1. [ ] Check VERCEL_TROUBLESHOOTING.md
2. [ ] Review Vercel build logs
3. [ ] Check browser console for errors
4. [ ] Verify environment variables are set
5. [ ] Confirm backend is running
6. [ ] Test API endpoints directly
7. [ ] Check CORS configuration
8. [ ] Verify DNS settings (for custom domains)

---

## âœ¨ Success Criteria

You've successfully deployed when:

- [ ] âœ… Frontend is accessible at Vercel URL
- [ ] âœ… No errors in browser console
- [ ] âœ… API calls succeed
- [ ] âœ… Core features work
- [ ] âœ… Page loads in < 3 seconds
- [ ] âœ… Mobile view works (test on phone)
- [ ] âœ… Can share URL with others successfully

---

## ðŸ“ Notes

**Deployment Date:** _________________

**Vercel URL:** _________________

**Backend URL:** _________________

**Custom Domain (if any):** _________________

**Issues Encountered:**
- 
- 
- 

**Solutions Applied:**
- 
- 
- 

**Next Steps:**
- 
- 
- 

---

## ðŸŽ‰ Congratulations!

If all items are checked, your application is successfully deployed to Vercel!

**Share your deployment URL:** _________________

**Estimated Total Time:** 45-60 minutes

---

*For detailed help, see:*
- *VERCEL_QUICK_START.md - Quick deployment guide*
- *VERCEL_DEPLOYMENT.md - Complete deployment guide*
- *VERCEL_TROUBLESHOOTING.md - Common issues & solutions*
